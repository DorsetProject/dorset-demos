<html>
   <head>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <title> Dorset Frontend </title>
   </head>
   <body>
      <h2>
         Welcome to the Dorset Front End Demo!
      </h2>
      <form>
         Enter Question:<br>
         <input type="text" name="question" id="questionInputId">          
         <button type="button" onclick="submitQuestion()">Submit</button><br>
         Answer: <br>
         <input type="text" name="answer" id="answerOutputId">
      </form>
   </body>
   <script>
      function submitQuestion() {
          var input = document.getElementById('questionInputId').value;
          console.log("The question asked was: " +input);
          sendGet(input);
          }
          
      function sendGet(question){
      	$.ajax({
      		headers : {
      			'Accept' : 'application/json',
      			'Content-Type' : 'application/json'
      		},
      		type : "GET",
      		url : "http://localhost:8080/web-0.1.0-SNAPSHOT/api/process/"+question,
      		dataType : 'json',
      		success : function(response) {
      			console.log("Success!");
      			console.log("The answer to the question is: " +response.text);
               	document.getElementById('answerOutputId').value = response.text;
      
      		},
      		error : function(e) {
      			console.log("AJAX error");
      			console.log(e);
      		}
      	});    
      }   
   </script>
</html>
